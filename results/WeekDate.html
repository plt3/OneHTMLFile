<!doctype html><html lang=en><title>WeekDate</title><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><style>body,html{display:flex;flex-direction:column;align-items:center;height:100%;width:100%;margin:0;background-color:#18191a;color:#fff;font-family:Helvetica}button{background-color:#616161;color:#fff;width:150px;border:none;border-radius:10px;padding:7px 16px;margin-top:5px;margin-bottom:5px;font-size:16px}p{margin-top:10px;margin-bottom:0}.right{color:#fff}.wrong{color:#f44336}.stat-column{margin-left:10px;margin-right:10px;display:flex;flex-direction:column;align-items:center}#quiz-container{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;position:relative;width:80%;margin-top:3%}#button-container,#next-container{flex-direction:column;justify-content:center;align-items:center}#button-container{display:flex}#next-container,#rest-column,#total-time-label,#year-column{display:none}#next-button{padding:10px 16px;font-size:24px;width:auto}#pause-button{margin-top:20px;width:auto;background-color:#0654a6}#separate-button{width:auto;background-color:#c654a6}#correct{margin-top:15px}#stat-container{display:flex}#popup{z-index:5;position:absolute;top:0;bottom:0;width:min(100%,500px);display:none;flex-direction:column;justify-content:center;align-items:center;background-color:#616161;border-radius:20px}</style><div id=quiz-container><div id=popup><h1>Paused</h1></div><h1 id=date-text></h1><div id=button-container><button class=choice-button id=1>Monday</button> <button class=choice-button id=2>Tuesday</button> <button class=choice-button id=3>Wednesday</button> <button class=choice-button id=4>Thursday</button> <button class=choice-button id=5>Friday</button> <button class=choice-button id=6>Saturday</button> <button class=choice-button id=0>Sunday</button></div><div id=next-container><button class=next-button id=next-button>Continue</button></div></div><p id=correct>0/0 correct<div id=stat-container><div class=stat-column id=year-column><p><b>Year code:</b><p id=year-last>Last: -<p id=year-average>Avg: -<p id=year-best>Best: -<p id=year-worst>Worst: -</div><div class=stat-column id=rest-column><p><b>Rest:</b><p id=rest-last>Last: -<p id=rest-average>Avg: -<p id=rest-best>Best: -<p id=rest-worst>Worst: -</div><div class=stat-column><p id=total-time-label><b>Total time:</b><p id=total-last>Last: -<p id=total-average>Avg: -<p id=total-best>Best: -<p id=total-worst>Worst: -</div></div><button id=pause-button>Pause</button> <button id=separate-button>Separate</button><script>const MIN_DATE=new Date(1753,0,1),MAX_DATE=new Date(2399,12,31),MS_RANGE=MAX_DATE.getTime()-MIN_DATE.getTime()+1;let paused=!1,separated=!1,secondHalf=!1,currentDate=null,startTime=null,yearTime=null,endTime=null,attempted=!1,yearTimes=[],restTimes=[],fullTimes=[],timesAttempted=0;const pauseButton=document.getElementById("pause-button"),separateButton=document.getElementById("separate-button"),dateText=document.getElementById("date-text"),correctText=document.getElementById("correct"),statsDefs={last:{label:"Last: ",func:e=>e[e.length-1]},average:{label:"Avg: ",func:e=>e.reduce(((e,t)=>e+t),0)/e.length},best:{label:"Best: ",func:e=>Math.min.apply(Math,e)},worst:{label:"Worst: ",func:e=>Math.max.apply(Math,e)}};function setNewDate(){currentDate=new Date(MIN_DATE.getTime()+Math.random()*MS_RANGE),separated?(changeButtonsDisplayed(!0),secondHalf=!1,pauseButton.disabled=!1,separateButton.disabled=!1,dateText.textContent=currentDate.toLocaleString("en",{year:"numeric"})):dateText.textContent=currentDate.toLocaleString("en",{day:"numeric",month:"long",year:"numeric"}),dateText.className="right",attempted=!1,startTime=(new Date).getTime()}function refreshStats(e,t){if(correctText.textContent=`${fullTimes.length}/${timesAttempted} `,0!==timesAttempted){const e=fullTimes.length/timesAttempted*100;correctText.textContent+=`(${e.toFixed(2)}%) correct`}else correctText.textContent+=" correct";if(e){const e={total:fullTimes};(separated||t)&&(e.year=yearTimes,e.rest=restTimes);for(let[n,a]of Object.entries(e))for(let[e,s]of Object.entries(statsDefs)){const l=document.getElementById(n+"-"+e);l.textContent=t?s.label+"-":s.label+s.func(a).toFixed(2)}}}function handleAnswer(e){if(parseInt(e.target.id)===currentDate.getDay()){if(!attempted){timesAttempted++,endTime=(new Date).getTime();const e=(endTime-startTime)/1e3;if(separated){const t=(yearTime-startTime)/1e3;yearTimes.push(t),restTimes.push(e-t)}fullTimes.push(e),refreshStats(!0,!1)}setNewDate()}else attempted||(dateText.className="wrong",timesAttempted++,attempted=!0,refreshStats(!1,!1))}function changeButtonsDisplayed(e){e?(document.getElementById("button-container").style.display="none",document.getElementById("next-container").style.display="flex"):(document.getElementById("button-container").style.display="flex",document.getElementById("next-container").style.display="none")}pauseButton.onclick=()=>{paused?(document.getElementById("popup").style.display="none",pauseButton.textContent="Pause",startTime=(new Date).getTime()):(document.getElementById("popup").style.display="flex",pauseButton.textContent="Unpause"),paused=!paused},separateButton.onclick=()=>{separated=!separated,yearTimes=[],restTimes=[],fullTimes=[],timesAttempted=0,separated?(changeButtonsDisplayed(!0),document.getElementById("year-column").style.display="flex",document.getElementById("rest-column").style.display="flex",document.getElementById("total-time-label").style.display="inline",separateButton.textContent="Join"):(changeButtonsDisplayed(!1),document.getElementById("year-column").style.display="none",document.getElementById("rest-column").style.display="none",document.getElementById("total-time-label").style.display="none",separateButton.textContent="Separate"),refreshStats(!0,!0),setNewDate(),startTime=(new Date).getTime()},document.getElementById("next-button").onclick=()=>{changeButtonsDisplayed(!1),secondHalf=!0,pauseButton.disabled=!0,separateButton.disabled=!0,dateText.textContent=currentDate.toLocaleString("en",{day:"numeric",month:"long",year:"numeric"}),yearTime=(new Date).getTime()},window.onload=()=>{setNewDate(),document.querySelectorAll("button.choice-button").forEach((e=>{e.onclick=handleAnswer}));const e=document.getElementById("quiz-container"),t=document.getElementById("button-container");e.style.height=e.offsetHeight.toString()+"px",document.getElementById("next-container").style.height=t.offsetHeight.toString()+"px"}</script>
